stack: spring
role: service

deploy:
  enabled: true
  branch: main

  # build/artifact
  from_artifact: false
  build_tool: maven
  java_version: 21

  # runtime (releases + symlink current.jar)
  path: /mnt/data/apps/spring/user-company-web-v1
  port: 8086

  # legacy (systemd) â€“ dibiarkan, tapi akan diabaikan jika compose_dir diset
  method: jar
  service_name: spring-user-company-web-v1.service

  # >>> penting untuk Docker
  compose_dir: /mnt/data/docker/springboot/user-company-web-v1
  compose_file: docker-compose.yml

artifact:
  publish: nexus
  base_url: https://nexus.dwiaribowokj.xyz
  repository: maven-snapshots
  groupId: com.company.user
  artifactId: web-v1
  version: latest
  packaging: jar
  # classifier: ""
